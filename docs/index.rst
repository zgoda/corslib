CORSlib
=======

CORSlib is framework- and protocol-agnostic library that emits CORS headers on web server side based on defined rules. Policies are applied per request but may be used with arbitrary granularity.

Since it's framework-agnostic, the only thing it can do is to generate preflight and regular response headers related to CORS. It's up to the user to write specific handler for ``OPTIONS`` request and respond appropriately, including generated headers. Header structures returned from library functions are generic Python objects like dicts, strings and numbers so it may be necessary to adapt resolution result to specific application / framework headers structure or handling method.

Security considerations
-----------------------

This library strives to be as secure as it's possible within CORS specification and will not generate insecure headers even if requested to do so. To achieve that, some basic precautions are observed:

* strictly no origin reflection - ``Allow-Origin`` header value is taken only from rule definition and never reflected from request ``Origin`` value;
* strict credentials handling - library will not allow credentialed requests if resolved rule allows traffic from everywhere (``Allow-Origin`` resolves to ``"*"`` rule);
* matched ``Allow-Origin`` headers always include ``Vary`` value - when policy resolves ``Allow-Origin`` with exact origin match, generated headers include value for ``Vary`` header, note according to HTTP spec it may be a list of separated values, so it needs to be merged with any existing value as generated by application / framework;

Guides
------

.. toctree::
    :maxdepth: 2

    gettingstarted

API documentation
-----------------

.. toctree::
    :maxdepth: 2

    modules



Indices and tables
==================

* :ref:`genindex`
* :ref:`modindex`
* :ref:`search`
